# Empirical Project

## Aims of the Project

This project has two main objectives:

1. **Scraping Data**: The first aim is to scrape data from [www.rightmove.co.uk](https://www.rightmove.co.uk) to gather information on rental listings in London. This data will include details such as the region, price, number of bedrooms, and more.

2. **Creating Plots**: The second aim is to analyze this data and create a series of plots for a blog. The blog explores which rental listings to choose in London based on region, price, and whether it's better to rent alone or not. The plots visualize relationships between rental prices, regions, and other factors like crime rates.

## Project Directory Structure

- **Empirical Project/**  
  - **code/**  
    - `analysis.qmd`  
    - `scrape.py`    
  - **data/**  
    - `Crime Rates.xlsx`  
    - `listings.csv`  
  - **plots/**  
    - `bar_region_mean_price.png`  
    - `barh_bedrooms_combined.png`  
    - `barh_type_count.png`  
    - `barh_type_mean_price.png`  
    - `hist_price_bins.png`  
    - `scatt_crime_price.png`  
  - `blog.txt`
  - `Makefile`  
  - `README.md`  


### Descriptions of Files and Directories

#### `code/` Directory (Executable Code)

- **`scrape.py`**: This Python script performs the first aim of the project by scraping data from [www.rightmove.co.uk](https://www.rightmove.co.uk) and storing the rental listings into the `listings.csv` file located in the `data` directory. It includes information such as the link to the listing, region, price per calendar month (pcm), property type, number of bedrooms, and bathrooms.
  
- **`analysis.qmd`**: This Quarto file performs the second aim of the project, which is to create six different plots based on the data in `listings.csv` and `Crime Rates.xlsx`. These plots help explore relationships between rental prices, regions, crime rates, and the number of bedrooms in properties.

#### `data/` Directory (Data Files)

- **`listings.csv`**: This CSV file is generated by the `scrape.py` script and contains rental listings scraped from [www.rightmove.co.uk](https://www.rightmove.co.uk). It has the following columns:
  - `link`: The link to the listing
  - `region`: The region of London
  - `price_pcm`: The price per calendar month (pcm)
  - `type`: The property type (e.g., flat, house)
  - `bedrooms`: The number of bedrooms
  - `bathrooms`: The number of bathrooms
  
  This file is used by `analysis.qmd` to create the plots.

- **`Crime Rates.xlsx`**: This Excel file contains violent crime rates for each of the six regions in London. It was obtained by manually collecting the data from [www.plumplot.co.uk](https://www.plumplot.co.uk). It has the following columns:
  - `Region Name`: The name of the region (e.g., East, North)
  - `Crime Rates`: The violent crime rate for that region
  
  This file is also used by `analysis.qmd` to generate plots.

#### `plots/` Directory (Plots)

This directory contains all the plots generated by `analysis.qmd`. The plots help visualize key relationships in the data:

- **`bar_region_mean_price.png`**: A bar chart showing the average pcm price by region.
- **`barh_bedrooms_combined.png`**: A horizontal bar chart showing the average price pcm by the number of bedrooms, as well as the average price pcm per bedroom by the number of bedrooms, including studios.
- **`barh_type_count.png`**: A horizontal bar chart showing the number of listings by property type.
- **`barh_type_mean_price.png`**: A horizontal bar chart showing the average pcm prices by property type.
- **`hist_price_bins.png`**: A histogram of rental prices per calendar month (pcm).
- **`scatt_crime_price.png`**: A scatter plot showing the relationship between average pcm prices for each region and its crime rate.

#### `Makefile`

The `Makefile` contains four functions:

- **`run`**: This function checks if any output files (`listings.csv` or the plot images) are missing or outdated and reruns the necessary code to regenerate them.
- **`clean`**: This function removes all output files (`listings.csv` and the plot images).
- **`force_run`**: This function cleans all output files and then reruns the code to regenerate them.
- **`help`**: This function provides a description of all the available Makefile commands.

#### `blog.txt`

This file contains a link to the blog created with the help of the plots and a link to this repository on GitHub.

#### `README.md`

This file, which provides an overview of the project, its goals, and the directory structure.

---

### Software Versions Used

- **MacOS**: Operating system used for the project.
- **Python 3.12.0**: Python version used to run the code.
- **Pandas 2.2.3**: Version of the Pandas library used for data manipulation.
- **Matplotlib 3.10.0**: Version of the Matplotlib library used to create plots.
- **Requests 3.12**: Version of the Requests library used for HTTP requests in scraping.
- **CSV 1.0**: Version of the CSV module used for reading and writing CSV files.

---

### References

- [www.rightmove.co.uk](https://www.rightmove.co.uk) – The website used to scrape rental listings in London.
- [www.plumplot.co.uk](https://www.plumplot.co.uk) – The website used to obtain violent crime rate data for different regions in London.